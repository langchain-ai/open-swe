---
title: "CI Configuration"
description: "How to configure your CI pipeline for Open SWE"
---

## Skip Vercel CI until last commit

Open SWE will push a commit after every change to the repository. Since Vercel will create a new preview deployment for every commit by default, this can cause an unnecessarily large number of preview deployments to be created.

To prevent this, Open SWE supports adding an environment variable which will cause Vercel to skip CI until the very last commit is made. This ensures that only one preview deployment will be created, per Open SWE task.

Setting this up is a two part process:

<Steps>
  <Step title="Set the environment variable">
    Set the environment variable `SKIP_VERCEL_CI_UNTIL_LAST_COMMIT` to `true` in Open SWE's environment variables:

    `apps/open-swe/.env`
    ```bash
    SKIP_VERCEL_CI_UNTIL_LAST_COMMIT="true"
    ```

  </Step>

  <Step title="Add custom 'Ignored Build Step' in Vercel">
    Add a custom 'Ignored Build Step' in Vercel to skip CI when commit messages contain the string `[skip ci]`.

    Visit the **Git** tab in your Vercel project settings, and add the following script to a new **Custom** behavior:

    ![Vercel Custom Build Step Screenshot](/images/vercel_ignored_build_script_screenshot.png)

    ```bash
    git log -1 --pretty=oneline --abbrev-commit | grep "[skip ci]" || exit 1
    ```

  </Step>
</Steps>

This will cause Vercel to skip creating a preview deployment if the commit message contains the string `[skip ci]`.

In Open SWE, we will automatically include this string in the commit message if the environment variable `SKIP_VERCEL_CI_UNTIL_LAST_COMMIT` is set to `true`. Then, once Open SWE completes the task, it will push up an empty commit without that string to trigger the CI pipeline.

This will ensure that only one preview deployment is created per Open SWE task.
